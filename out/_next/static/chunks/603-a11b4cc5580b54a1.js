"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{581:(e,a,t)=>{t.d(a,{A:()=>m});var o=t(5155),n=t(2115),r=t(1154),s=t(7924),i=t(4516),l=t(3999),c=t(5695);let u=[{name:"New York",state:"NY",country:"US",searchTerm:"New York, NY",hasPage:!0,pageSlug:"new-york-ny"},{name:"Los Angeles",state:"CA",country:"US",searchTerm:"Los Angeles, CA",hasPage:!0,pageSlug:"los-angeles-ca"},{name:"Chicago",state:"IL",country:"US",searchTerm:"Chicago, IL",hasPage:!0,pageSlug:"chicago-il"},{name:"Houston",state:"TX",country:"US",searchTerm:"Houston, TX",hasPage:!0,pageSlug:"houston-tx"},{name:"Phoenix",state:"AZ",country:"US",searchTerm:"Phoenix, AZ",hasPage:!0,pageSlug:"phoenix-az"},{name:"Philadelphia",state:"PA",country:"US",searchTerm:"Philadelphia, PA",hasPage:!0,pageSlug:"philadelphia-pa"},{name:"San Antonio",state:"TX",country:"US",searchTerm:"San Antonio, TX",hasPage:!0,pageSlug:"san-antonio-tx"},{name:"San Diego",state:"CA",country:"US",searchTerm:"San Diego, CA",hasPage:!0,pageSlug:"san-diego-ca"},{name:"Dallas",state:"TX",country:"US",searchTerm:"Dallas, TX",hasPage:!0,pageSlug:"dallas-tx"},{name:"Austin",state:"TX",country:"US",searchTerm:"Austin, TX",hasPage:!0,pageSlug:"austin-tx"},{name:"Jacksonville",state:"FL",country:"US",searchTerm:"Jacksonville, FL"},{name:"Fort Worth",state:"TX",country:"US",searchTerm:"Fort Worth, TX"},{name:"Columbus",state:"OH",country:"US",searchTerm:"Columbus, OH"},{name:"Charlotte",state:"NC",country:"US",searchTerm:"Charlotte, NC"},{name:"San Francisco",state:"CA",country:"US",searchTerm:"San Francisco, CA"},{name:"Indianapolis",state:"IN",country:"US",searchTerm:"Indianapolis, IN"},{name:"Seattle",state:"WA",country:"US",searchTerm:"Seattle, WA"},{name:"Denver",state:"CO",country:"US",searchTerm:"Denver, CO"},{name:"Boston",state:"MA",country:"US",searchTerm:"Boston, MA"},{name:"Nashville",state:"TN",country:"US",searchTerm:"Nashville, TN"},{name:"Baltimore",state:"MD",country:"US",searchTerm:"Baltimore, MD"},{name:"Portland",state:"OR",country:"US",searchTerm:"Portland, OR"},{name:"Las Vegas",state:"NV",country:"US",searchTerm:"Las Vegas, NV"},{name:"Detroit",state:"MI",country:"US",searchTerm:"Detroit, MI"},{name:"Memphis",state:"TN",country:"US",searchTerm:"Memphis, TN"},{name:"Louisville",state:"KY",country:"US",searchTerm:"Louisville, KY"},{name:"Milwaukee",state:"WI",country:"US",searchTerm:"Milwaukee, WI"},{name:"Albuquerque",state:"NM",country:"US",searchTerm:"Albuquerque, NM"},{name:"Tucson",state:"AZ",country:"US",searchTerm:"Tucson, AZ"},{name:"Fresno",state:"CA",country:"US",searchTerm:"Fresno, CA"},{name:"Sacramento",state:"CA",country:"US",searchTerm:"Sacramento, CA"},{name:"Mesa",state:"AZ",country:"US",searchTerm:"Mesa, AZ"},{name:"Kansas City",state:"MO",country:"US",searchTerm:"Kansas City, MO"},{name:"Atlanta",state:"GA",country:"US",searchTerm:"Atlanta, GA"},{name:"Colorado Springs",state:"CO",country:"US",searchTerm:"Colorado Springs, CO"},{name:"Omaha",state:"NE",country:"US",searchTerm:"Omaha, NE"},{name:"Raleigh",state:"NC",country:"US",searchTerm:"Raleigh, NC"},{name:"Miami",state:"FL",country:"US",searchTerm:"Miami, FL"},{name:"Virginia Beach",state:"VA",country:"US",searchTerm:"Virginia Beach, VA"},{name:"Oakland",state:"CA",country:"US",searchTerm:"Oakland, CA"},{name:"Minneapolis",state:"MN",country:"US",searchTerm:"Minneapolis, MN"},{name:"Tulsa",state:"OK",country:"US",searchTerm:"Tulsa, OK"},{name:"Arlington",state:"TX",country:"US",searchTerm:"Arlington, TX"},{name:"New Orleans",state:"LA",country:"US",searchTerm:"New Orleans, LA"},{name:"Wichita",state:"KS",country:"US",searchTerm:"Wichita, KS"},{name:"Cleveland",state:"OH",country:"US",searchTerm:"Cleveland, OH"},{name:"Tampa",state:"FL",country:"US",searchTerm:"Tampa, FL"},{name:"Bakersfield",state:"CA",country:"US",searchTerm:"Bakersfield, CA"},{name:"Aurora",state:"CO",country:"US",searchTerm:"Aurora, CO"},{name:"Anaheim",state:"CA",country:"US",searchTerm:"Anaheim, CA"},{name:"Honolulu",state:"HI",country:"US",searchTerm:"Honolulu, HI"},{name:"Santa Ana",state:"CA",country:"US",searchTerm:"Santa Ana, CA"},{name:"Corpus Christi",state:"TX",country:"US",searchTerm:"Corpus Christi, TX"},{name:"Riverside",state:"CA",country:"US",searchTerm:"Riverside, CA"},{name:"Lexington",state:"KY",country:"US",searchTerm:"Lexington, KY"},{name:"Stockton",state:"CA",country:"US",searchTerm:"Stockton, CA"},{name:"Henderson",state:"NV",country:"US",searchTerm:"Henderson, NV"},{name:"Saint Paul",state:"MN",country:"US",searchTerm:"Saint Paul, MN"},{name:"St. Louis",state:"MO",country:"US",searchTerm:"St. Louis, MO"},{name:"Cincinnati",state:"OH",country:"US",searchTerm:"Cincinnati, OH"},{name:"Pittsburgh",state:"PA",country:"US",searchTerm:"Pittsburgh, PA"},{name:"Greensboro",state:"NC",country:"US",searchTerm:"Greensboro, NC"},{name:"Anchorage",state:"AK",country:"US",searchTerm:"Anchorage, AK"},{name:"Plano",state:"TX",country:"US",searchTerm:"Plano, TX"},{name:"Lincoln",state:"NE",country:"US",searchTerm:"Lincoln, NE"},{name:"Orlando",state:"FL",country:"US",searchTerm:"Orlando, FL"},{name:"Irvine",state:"CA",country:"US",searchTerm:"Irvine, CA"},{name:"Newark",state:"NJ",country:"US",searchTerm:"Newark, NJ"},{name:"Durham",state:"NC",country:"US",searchTerm:"Durham, NC"},{name:"Chula Vista",state:"CA",country:"US",searchTerm:"Chula Vista, CA"},{name:"Toledo",state:"OH",country:"US",searchTerm:"Toledo, OH"},{name:"Fort Wayne",state:"IN",country:"US",searchTerm:"Fort Wayne, IN"},{name:"St. Petersburg",state:"FL",country:"US",searchTerm:"St. Petersburg, FL"},{name:"Laredo",state:"TX",country:"US",searchTerm:"Laredo, TX"},{name:"Jersey City",state:"NJ",country:"US",searchTerm:"Jersey City, NJ"},{name:"Chandler",state:"AZ",country:"US",searchTerm:"Chandler, AZ"},{name:"Madison",state:"WI",country:"US",searchTerm:"Madison, WI"},{name:"Lubbock",state:"TX",country:"US",searchTerm:"Lubbock, TX"},{name:"Norfolk",state:"VA",country:"US",searchTerm:"Norfolk, VA"},{name:"Baton Rouge",state:"LA",country:"US",searchTerm:"Baton Rouge, LA"},{name:"Buffalo",state:"NY",country:"US",searchTerm:"Buffalo, NY"},{name:"Spokane",state:"WA",country:"US",searchTerm:"Spokane, WA"},{name:"Richmond",state:"VA",country:"US",searchTerm:"Richmond, VA"},{name:"Birmingham",state:"AL",country:"US",searchTerm:"Birmingham, AL"},{name:"Rochester",state:"NY",country:"US",searchTerm:"Rochester, NY"},{name:"San Jose",state:"CA",country:"US",searchTerm:"San Jose, CA"},{name:"Scottsdale",state:"AZ",country:"US",searchTerm:"Scottsdale, AZ"},{name:"Glendale",state:"AZ",country:"US",searchTerm:"Glendale, AZ"},{name:"Akron",state:"OH",country:"US",searchTerm:"Akron, OH"},{name:"Mobile",state:"AL",country:"US",searchTerm:"Mobile, AL"},{name:"Little Rock",state:"AR",country:"US",searchTerm:"Little Rock, AR"},{name:"Huntington Beach",state:"CA",country:"US",searchTerm:"Huntington Beach, CA"},{name:"Grand Rapids",state:"MI",country:"US",searchTerm:"Grand Rapids, MI"},{name:"Salt Lake City",state:"UT",country:"US",searchTerm:"Salt Lake City, UT"},{name:"Tallahassee",state:"FL",country:"US",searchTerm:"Tallahassee, FL"},{name:"Worcester",state:"MA",country:"US",searchTerm:"Worcester, MA"},{name:"Newport News",state:"VA",country:"US",searchTerm:"Newport News, VA"},{name:"Huntsville",state:"AL",country:"US",searchTerm:"Huntsville, AL"},{name:"Knoxville",state:"TN",country:"US",searchTerm:"Knoxville, TN"},{name:"Providence",state:"RI",country:"US",searchTerm:"Providence, RI"},{name:"Fort Lauderdale",state:"FL",country:"US",searchTerm:"Fort Lauderdale, FL"},{name:"Amarillo",state:"TX",country:"US",searchTerm:"Amarillo, TX"},{name:"Glendale",state:"CA",country:"US",searchTerm:"Glendale, CA"},{name:"Mobile",state:"AL",country:"US",searchTerm:"Mobile, AL"},{name:"Grand Prairie",state:"TX",country:"US",searchTerm:"Grand Prairie, TX"},{name:"Brownsville",state:"TX",country:"US",searchTerm:"Brownsville, TX"},{name:"Jackson",state:"MS",country:"US",searchTerm:"Jackson, MS"},{name:"Overland Park",state:"KS",country:"US",searchTerm:"Overland Park, KS"},{name:"Garden Grove",state:"CA",country:"US",searchTerm:"Garden Grove, CA"},{name:"Santa Clarita",state:"CA",country:"US",searchTerm:"Santa Clarita, CA"},{name:"Oceanside",state:"CA",country:"US",searchTerm:"Oceanside, CA"},{name:"Chattanooga",state:"TN",country:"US",searchTerm:"Chattanooga, TN"},{name:"Fort Collins",state:"CO",country:"US",searchTerm:"Fort Collins, CO"},{name:"Washington",state:"DC",country:"US",searchTerm:"Washington, DC"},{name:"London",country:"United Kingdom",searchTerm:"London, United Kingdom"},{name:"Paris",country:"France",searchTerm:"Paris, France"},{name:"Berlin",country:"Germany",searchTerm:"Berlin, Germany"},{name:"Rome",country:"Italy",searchTerm:"Rome, Italy"},{name:"Madrid",country:"Spain",searchTerm:"Madrid, Spain"},{name:"Amsterdam",country:"Netherlands",searchTerm:"Amsterdam, Netherlands"},{name:"Vienna",country:"Austria",searchTerm:"Vienna, Austria"},{name:"Prague",country:"Czech Republic",searchTerm:"Prague, Czech Republic"},{name:"Warsaw",country:"Poland",searchTerm:"Warsaw, Poland"},{name:"Budapest",country:"Hungary",searchTerm:"Budapest, Hungary"},{name:"Stockholm",country:"Sweden",searchTerm:"Stockholm, Sweden"},{name:"Copenhagen",country:"Denmark",searchTerm:"Copenhagen, Denmark"},{name:"Oslo",country:"Norway",searchTerm:"Oslo, Norway"},{name:"Helsinki",country:"Finland",searchTerm:"Helsinki, Finland"},{name:"Zurich",country:"Switzerland",searchTerm:"Zurich, Switzerland"},{name:"Brussels",country:"Belgium",searchTerm:"Brussels, Belgium"},{name:"Dublin",country:"Ireland",searchTerm:"Dublin, Ireland"},{name:"Athens",country:"Greece",searchTerm:"Athens, Greece"},{name:"Lisbon",country:"Portugal",searchTerm:"Lisbon, Portugal"},{name:"Barcelona",country:"Spain",searchTerm:"Barcelona, Spain"},{name:"Milan",country:"Italy",searchTerm:"Milan, Italy"},{name:"Munich",country:"Germany",searchTerm:"Munich, Germany"},{name:"Frankfurt",country:"Germany",searchTerm:"Frankfurt, Germany"},{name:"Tokyo",country:"Japan",searchTerm:"Tokyo, Japan"},{name:"Beijing",country:"China",searchTerm:"Beijing, China"},{name:"Shanghai",country:"China",searchTerm:"Shanghai, China"},{name:"Seoul",country:"South Korea",searchTerm:"Seoul, South Korea"},{name:"Mumbai",country:"India",searchTerm:"Mumbai, India"},{name:"Delhi",country:"India",searchTerm:"Delhi, India"},{name:"Bangalore",country:"India",searchTerm:"Bangalore, India"},{name:"Singapore",country:"Singapore",searchTerm:"Singapore, Singapore"},{name:"Hong Kong",country:"Hong Kong",searchTerm:"Hong Kong, Hong Kong"},{name:"Bangkok",country:"Thailand",searchTerm:"Bangkok, Thailand"},{name:"Manila",country:"Philippines",searchTerm:"Manila, Philippines"},{name:"Jakarta",country:"Indonesia",searchTerm:"Jakarta, Indonesia"},{name:"Kuala Lumpur",country:"Malaysia",searchTerm:"Kuala Lumpur, Malaysia"},{name:"Ho Chi Minh City",country:"Vietnam",searchTerm:"Ho Chi Minh City, Vietnam"},{name:"Taipei",country:"Taiwan",searchTerm:"Taipei, Taiwan"},{name:"Osaka",country:"Japan",searchTerm:"Osaka, Japan"},{name:"Kyoto",country:"Japan",searchTerm:"Kyoto, Japan"},{name:"Guangzhou",country:"China",searchTerm:"Guangzhou, China"},{name:"Shenzhen",country:"China",searchTerm:"Shenzhen, China"},{name:"Sydney",country:"Australia",searchTerm:"Sydney, Australia"},{name:"Melbourne",country:"Australia",searchTerm:"Melbourne, Australia"},{name:"Brisbane",country:"Australia",searchTerm:"Brisbane, Australia"},{name:"Perth",country:"Australia",searchTerm:"Perth, Australia"},{name:"Adelaide",country:"Australia",searchTerm:"Adelaide, Australia"},{name:"Auckland",country:"New Zealand",searchTerm:"Auckland, New Zealand"},{name:"Wellington",country:"New Zealand",searchTerm:"Wellington, New Zealand"},{name:"Toronto",country:"Canada",searchTerm:"Toronto, Canada"},{name:"Vancouver",country:"Canada",searchTerm:"Vancouver, Canada"},{name:"Montreal",country:"Canada",searchTerm:"Montreal, Canada"},{name:"Calgary",country:"Canada",searchTerm:"Calgary, Canada"},{name:"Ottawa",country:"Canada",searchTerm:"Ottawa, Canada"},{name:"Mexico City",country:"Mexico",searchTerm:"Mexico City, Mexico"},{name:"Guadalajara",country:"Mexico",searchTerm:"Guadalajara, Mexico"},{name:"Monterrey",country:"Mexico",searchTerm:"Monterrey, Mexico"},{name:"S\xe3o Paulo",country:"Brazil",searchTerm:"S\xe3o Paulo, Brazil"},{name:"Rio de Janeiro",country:"Brazil",searchTerm:"Rio de Janeiro, Brazil"},{name:"Buenos Aires",country:"Argentina",searchTerm:"Buenos Aires, Argentina"},{name:"Lima",country:"Peru",searchTerm:"Lima, Peru"},{name:"Bogot\xe1",country:"Colombia",searchTerm:"Bogot\xe1, Colombia"},{name:"Santiago",country:"Chile",searchTerm:"Santiago, Chile"},{name:"Caracas",country:"Venezuela",searchTerm:"Caracas, Venezuela"},{name:"Cairo",country:"Egypt",searchTerm:"Cairo, Egypt"},{name:"Lagos",country:"Nigeria",searchTerm:"Lagos, Nigeria"},{name:"Cape Town",country:"South Africa",searchTerm:"Cape Town, South Africa"},{name:"Johannesburg",country:"South Africa",searchTerm:"Johannesburg, South Africa"},{name:"Nairobi",country:"Kenya",searchTerm:"Nairobi, Kenya"},{name:"Dubai",country:"UAE",searchTerm:"Dubai, UAE"},{name:"Tel Aviv",country:"Israel",searchTerm:"Tel Aviv, Israel"},{name:"Istanbul",country:"Turkey",searchTerm:"Istanbul, Turkey"},{name:"Riyadh",country:"Saudi Arabia",searchTerm:"Riyadh, Saudi Arabia"},{name:"Doha",country:"Qatar",searchTerm:"Doha, Qatar"}];function d(e){let{query:a,onSelect:t,onQueryChange:r,theme:s="dark",isVisible:i,onVisibilityChange:d}=e,[m,h]=(0,n.useState)([]),[g,y]=(0,n.useState)(-1),p=(0,c.useRouter)(),T=(0,n.useRef)(null),A=(()=>{switch(s){case"miami":return{dropdown:"bg-[#0a0025] border-[#00FFFF] text-[#00FFFF]",item:"hover:bg-[#00FFFF] hover:text-[#0a0025]",selectedItem:"bg-[#00FFFF] text-[#0a0025]",cityName:"text-[#00FFFF]",location:"text-[#00FFFF]",pageIndicator:"text-[#00FFFF]"};case"tron":return{dropdown:"bg-black border-[#00FFFF] text-white",item:"hover:bg-[#00FFFF] hover:text-black",selectedItem:"bg-[#00FFFF] text-black",cityName:"text-white",location:"text-[#00FFFF]",pageIndicator:"text-[#00FFFF]"};default:return{dropdown:"bg-[#0f0f0f] border-[#00FFFF] text-[#e0e0e0]",item:"hover:bg-[#00FFFF] hover:text-[#0f0f0f]",selectedItem:"bg-[#00FFFF] text-[#0f0f0f]",cityName:"text-[#e0e0e0]",location:"text-[#00FFFF]",pageIndicator:"text-[#00FFFF]"}}})();(0,n.useEffect)(()=>{if(a.length>=2){let e=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e||e.length<2)return[];let t=e.toLowerCase().trim();return[...u.filter(e=>e.name.toLowerCase().startsWith(t)),...u.filter(e=>e.name.toLowerCase().includes(t)&&!e.name.toLowerCase().startsWith(t))].slice(0,a).sort((e,a)=>e.hasPage&&!a.hasPage?-1:!e.hasPage&&a.hasPage?1:0)}(a,4);h(e),y(-1),d(e.length>0)}else h([]),y(-1),d(!1)},[a,d]),(0,n.useEffect)(()=>{let e=e=>{if(i&&0!==m.length)switch(e.key){case"ArrowDown":e.preventDefault(),y(e=>e<m.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),y(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),g>=0&&g<m.length&&F(m[g]);break;case"Escape":e.preventDefault(),d(!1),y(-1)}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,m,g,d]);let F=e=>{e.hasPage&&e.pageSlug?p.push("/weather/".concat(e.pageSlug)):t(e),d(!1),y(-1)};return((0,n.useEffect)(()=>{let e=e=>{T.current&&!T.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[d]),i&&0!==m.length)?(0,o.jsxs)("div",{ref:T,className:(0,l.cn)("absolute top-full left-0 right-0 z-50 mt-1 border-2 rounded shadow-lg","font-mono text-sm max-h-64 overflow-y-auto",A.dropdown),style:{boxShadow:"0 4px 20px #00FFFF33"},children:[m.map((e,a)=>(0,o.jsxs)("div",{className:(0,l.cn)("px-4 py-3 cursor-pointer transition-colors duration-150","flex items-center justify-between border-b border-opacity-20","border-gray-600 last:border-b-0",g===a?A.selectedItem:A.item),onClick:()=>F(e),onMouseEnter:()=>y(a),children:[(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("div",{className:(0,l.cn)("font-semibold text-sm truncate",g===a?A.selectedItem.split(" ")[1]:A.cityName),children:e.name}),(0,o.jsx)("div",{className:(0,l.cn)("text-xs opacity-80 truncate",g===a?A.selectedItem.split(" ")[1]:A.location),children:"US"===e.country&&e.state?e.state:e.country})]}),e.hasPage&&(0,o.jsx)("div",{className:(0,l.cn)("ml-2 text-xs font-bold flex-shrink-0",g===a?A.selectedItem.split(" ")[1]:A.pageIndicator),children:"PAGE"})]},"".concat(e.name,"-").concat(e.country,"-").concat(e.state||""))),(0,o.jsx)("div",{className:(0,l.cn)("px-4 py-2 text-xs opacity-60 border-t border-gray-600 border-opacity-20","text-center bg-opacity-50",A.location),children:"↑↓ Navigate • Enter Select • Esc Close"})]}):null}function m(e){let{onSearch:a,onLocationSearch:t,isLoading:c,error:u,isDisabled:m=!1,rateLimitError:h,theme:g=l.Eg.THEMES.DARK,hideLocationButton:y=!1}=e,[p,T]=(0,n.useState)(""),[A,F]=(0,n.useState)(!1),w=(e=>{switch(e){case"dark":return{background:"bg-[#0f0f0f]",cardBg:"bg-[#0f0f0f]",borderColor:"border-[#00FFFF]",text:"text-[#e0e0e0]",headerText:"text-[#00FFFF]",secondaryText:"text-[#00FFFF]",accentText:"text-[#00FFFF]",successText:"text-[#00FFFF]",glow:"",specialBorder:"border-[#00FFFF]",buttonHover:"hover:bg-[#00FFFF] hover:text-[#0f0f0f]",placeholderText:"placeholder-[#a0a0a0]",hoverBorder:"hover:border-[#00FFFF]",buttonBg:"bg-[#0f0f0f]",buttonBorder:"border-[#00FFFF]",buttonText:"text-[#e0e0e0]",errorBg:"bg-[#1a0f0f]",errorText:"text-[#ff4444]",warningText:"text-[#ff6b6b]"};case"miami":return{background:"bg-[#0a0025]",cardBg:"bg-[#0a0025]",borderColor:"border-[#00FFFF]",text:"text-[#00FFFF]",headerText:"text-[#00FFFF]",secondaryText:"text-[#00FFFF]",accentText:"text-[#00FFFF]",successText:"text-[#00FFFF]",glow:"",specialBorder:"border-[#00FFFF]",buttonHover:"hover:bg-[#00FFFF] hover:text-[#0a0025]",placeholderText:"placeholder-[#b0d4f1]",hoverBorder:"hover:border-[#00FFFF]",buttonBg:"bg-[#0a0025]",buttonBorder:"border-[#00FFFF]",buttonText:"text-[#00FFFF]",errorBg:"bg-[#1a0025]",errorText:"text-[#00FFFF]",warningText:"text-[#00FFFF]"};case"tron":return{background:"bg-black",cardBg:"bg-black",borderColor:"border-[#00FFFF]",text:"text-white",headerText:"text-[#00FFFF]",secondaryText:"text-[#00FFFF]",accentText:"text-[#00FFFF]",successText:"text-[#00FFFF]",glow:"",specialBorder:"border-[#00FFFF]",buttonHover:"hover:bg-[#00FFFF] hover:text-black",placeholderText:"placeholder-[#00FFFF]",hoverBorder:"hover:border-[#00FFFF]",buttonBg:"bg-black",buttonBorder:"border-[#00FFFF]",buttonText:"text-white",errorBg:"bg-[#001111]",errorText:"text-[#00FFFF]",warningText:"text-[#00FFFF]"}}})(g),x=e=>{T(e),F(e.length>=2)},S=c||m;return(0,o.jsxs)("div",{className:"mb-4 sm:mb-6 w-full max-w-2xl mx-auto",children:[(0,o.jsx)("div",{className:"mb-2 sm:mb-3 text-center px-2",children:(0,o.jsxs)("div",{className:"text-xs sm:text-sm ".concat(w.secondaryText," uppercase tracking-wider break-words"),children:[(0,o.jsx)("span",{className:"hidden sm:inline",children:"► 90210 • NEW YORK, NY • LONDON, UK ◄"}),(0,o.jsx)("span",{className:"sm:hidden",children:"► ZIP • CITY, STATE • CITY, COUNTRY ◄"})]})}),(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault(),!p.trim()||c||m||(a(p.trim()),F(!1))},className:"mb-3 sm:mb-4 px-2 sm:px-0",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),onFocus:()=>p.length>=2&&F(!0),placeholder:m?"Rate limit reached...":"ZIP, City+State, or City+Country...",disabled:S,className:"w-full px-3 sm:px-4 py-3 sm:py-4 pr-10 sm:pr-12 ".concat(w.cardBg," border-2 ").concat(w.borderColor," ").concat(w.text," ").concat(w.placeholderText," \n                     font-mono text-sm sm:text-base uppercase tracking-wider focus:outline-none ").concat(w.hoverBorder," \n                     transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ").concat(w.specialBorder,"\n                     min-h-[48px] touch-manipulation"),style:{imageRendering:"pixelated",fontFamily:"monospace",fontSize:"clamp(12px, 3vw, 16px)"}}),(0,o.jsx)("button",{type:"submit",disabled:S||!p.trim(),className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 p-2 ".concat(w.secondaryText," hover:text-[#ffe66d] \n                     transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ").concat(w.glow,"\n                     min-w-[44px] min-h-[44px] flex items-center justify-center touch-manipulation"),children:c?(0,o.jsx)(r.A,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):(0,o.jsx)(s.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,o.jsx)(d,{query:p,onSelect:e=>{T(e.searchTerm),a(e.searchTerm),F(!1)},onQueryChange:T,theme:g,isVisible:A,onVisibilityChange:F})]})}),!y&&t&&(0,o.jsx)("div",{className:"flex justify-center px-2 sm:px-0",children:(0,o.jsxs)("button",{onClick:()=>{c||m||!t||t()},disabled:S,className:"flex items-center gap-2 px-4 sm:px-6 py-3 ".concat(w.buttonBg," border ").concat(w.buttonBorder," \n                     ").concat(w.buttonText," ").concat(w.buttonHover," transition-all duration-200 \n                     text-xs sm:text-sm uppercase tracking-wider font-mono disabled:opacity-50 \n                     disabled:cursor-not-allowed ").concat(w.specialBorder,"\n                     min-h-[48px] touch-manipulation w-full sm:w-auto max-w-xs"),style:{imageRendering:"pixelated",fontFamily:"monospace",fontSize:"clamp(11px, 2.5vw, 14px)"},children:[(0,o.jsx)(i.A,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),(0,o.jsx)("span",{className:"break-words text-center",children:c?"LOADING...":m?"RATE LIMITED":"USE MY LOCATION"})]})}),(u||h)&&(0,o.jsxs)("div",{className:"p-3 sm:p-4 mx-2 sm:mx-0 ".concat(w.errorBg," border ").concat(w.errorText," \n                      text-xs sm:text-sm text-center ").concat(w.specialBorder),children:[(0,o.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2 sm:mb-3",children:[(0,o.jsx)("span",{children:"⚠"}),(0,o.jsx)("span",{className:"uppercase tracking-wider break-words",children:u||h})]}),(null==u?void 0:u.includes("not found"))&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("div",{className:"text-xs ".concat(w.secondaryText," normal-case"),children:"Try these format examples:"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[(0,o.jsx)("button",{onClick:()=>T("90210"),className:"".concat(w.warningText," hover:text-[#00FFFF] transition-colors cursor-pointer underline ").concat(w.glow,"\n                           py-2 px-3 touch-manipulation min-h-[44px] text-left"),disabled:m,children:"► ZIP: 90210"}),(0,o.jsx)("button",{onClick:()=>T("New York, NY"),className:"".concat(w.warningText," hover:text-[#00FFFF] transition-colors cursor-pointer underline ").concat(w.glow,"\n                           py-2 px-3 touch-manipulation min-h-[44px] text-left"),disabled:m,children:"► City + State: New York, NY"}),(0,o.jsx)("button",{onClick:()=>T("London, UK"),className:"".concat(w.warningText," hover:text-[#00FFFF] transition-colors cursor-pointer underline ").concat(w.glow,"\n                           py-2 px-3 touch-manipulation min-h-[44px] text-left"),disabled:m,children:"► City + Country: London, UK"})]})]}),(null==u?void 0:u.includes("API key"))&&(0,o.jsx)("div",{className:"text-xs ".concat(w.secondaryText," normal-case mt-2 break-words"),children:"Please configure your OpenWeatherMap API key in the environment variables."}),(null==u?void 0:u.includes("location"))&&(null==u?void 0:u.includes("denied"))&&(0,o.jsx)("div",{className:"text-xs ".concat(w.secondaryText," normal-case mt-2 break-words"),children:"Location access was denied. Try searching manually or enable location permissions."}),((null==u?void 0:u.includes("network"))||(null==u?void 0:u.includes("fetch")))&&(0,o.jsx)("div",{className:"text-xs ".concat(w.secondaryText," normal-case mt-2 break-words"),children:"Network error. Please check your internet connection and try again."})]})]})}},5631:(e,a,t)=>{t.d(a,{fetchWeatherByLocation:()=>L,v:()=>E});var o=t(9509);let n="https://api.openweathermap.org/data/2.5",r="https://api.openweathermap.org/geo/1.0",s=()=>{console.log("\uD83D\uDD0D ENVIRONMENT VARIABLE DEBUG:"),console.log("NODE_ENV:","production"),console.log("REACT_APP_OPENWEATHER_API_KEY:",o.env.REACT_APP_OPENWEATHER_API_KEY?"SET":"MISSING"),console.log("NEXT_PUBLIC_OPENWEATHER_API_KEY:",o.env.NEXT_PUBLIC_OPENWEATHER_API_KEY?"SET":"MISSING"),console.log("All env vars starting with REACT_APP_:",Object.keys(o.env).filter(e=>e.startsWith("REACT_APP_"))),console.log("All env vars starting with NEXT_PUBLIC_:",Object.keys(o.env).filter(e=>e.startsWith("NEXT_PUBLIC_")));let e=o.env.NEXT_PUBLIC_OPENWEATHER_API_KEY||o.env.REACT_APP_OPENWEATHER_API_KEY;if(!e)throw console.error("❌ OpenWeather API key is missing!"),console.error("Please set either NEXT_PUBLIC_OPENWEATHER_API_KEY or REACT_APP_OPENWEATHER_API_KEY environment variable."),console.error("For Next.js, use NEXT_PUBLIC_OPENWEATHER_API_KEY"),Error("OpenWeather API key not configured");return console.log("✅ OpenWeather API key found:",e.substring(0,8)+"..."),e},i=()=>{let e=o.env.NEXT_PUBLIC_GOOGLE_POLLEN_API_KEY||o.env.REACT_APP_GOOGLE_POLLEN_API_KEY;return e?(console.log("✅ Google Pollen API key found:",e.substring(0,8)+"..."),e):(console.warn("⚠️ Google Pollen API key is missing!"),console.warn("Please set either NEXT_PUBLIC_GOOGLE_POLLEN_API_KEY or REACT_APP_GOOGLE_POLLEN_API_KEY environment variable for real pollen data."),null)},l=e=>{if(e<0||e>360)return"N";let a=(e%360+360)%360;return a>=337.5||a<22.5?"N":a>=22.5&&a<67.5?"NE":a>=67.5&&a<112.5?"E":a>=112.5&&a<157.5?"SE":a>=157.5&&a<202.5?"S":a>=202.5&&a<247.5?"SW":a>=247.5&&a<292.5?"W":a>=292.5&&a<337.5?"NW":"N"},c=(e,a)=>{let t=1e3*e,o=new Date(a?t+1e3*a:t),n=o.getUTCHours(),r=o.getUTCMinutes().toString().padStart(2,"0");return"".concat(0===n?12:n>12?n-12:n,":").concat(r," ").concat(n>=12?"pm":"am")},u=e=>Math.round((e-32)*5/9),d=e=>"US"===e||"USA"===e,m=e=>d(e),h=(e,a)=>{console.log("Formatting temperature:",{temp:e,countryCode:a});let t=m(a);if(console.log("Using Fahrenheit:",t),t)return{value:e,unit:"\xb0F",display:"".concat(Math.round(e),"\xb0F")};{let a=u(e);return{value:a,unit:"\xb0C",display:"".concat(a,"\xb0C")}}},g=e=>e.trim().replace(/\s+/g," ").replace(/[""'']/g,'"').replace(/[–—]/g,"-"),y=e=>{let a=g(e);if(/^\d{5}(-\d{4})?$/.test(a))return{query:a,type:"zip",zipCode:a,country:"US"};if(/^[A-Z]{1,2}\d[A-Z\d]?\s?\d[A-Z]{2}$/i.test(a))return{query:a,type:"zip",zipCode:a.replace(/\s/g,""),country:"GB"};if(/^[A-Z]\d[A-Z]\s?\d[A-Z]\d$/i.test(a))return{query:a,type:"zip",zipCode:a.replace(/\s/g,""),country:"CA"};if(/^[A-Z0-9]{3,10}$/i.test(a)&&a.length>=3)return{query:a,type:"zip",zipCode:a};if(a.includes(",")){let e=a.split(",").map(e=>e.trim()).filter(e=>e.length>0);if(e.length>=2){let[t,o,...n]=e,r=t.replace(/[^\w\s\-'.]/g,"").trim();if(!r)return{query:a,type:"city_only",city:a};let s=o.toLowerCase();return["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"].includes(o.toUpperCase())||["alabama","alaska","arizona","arkansas","california","colorado","connecticut","delaware","florida","georgia","hawaii","idaho","illinois","indiana","iowa","kansas","kentucky","louisiana","maine","maryland","massachusetts","michigan","minnesota","mississippi","missouri","montana","nebraska","nevada","new hampshire","new jersey","new mexico","new york","north carolina","north dakota","ohio","oklahoma","oregon","pennsylvania","rhode island","south carolina","south dakota","tennessee","texas","utah","vermont","virginia","washington","west virginia","wisconsin","wyoming","district of columbia"].includes(s)?{query:a,type:"city_state",city:r,state:o,country:"US"}:["US","GB","UK","CA","AU","DE","FR","IT","ES","JP","CN","IN","BR","RU","MX","NL","BE","CH","AT","SE","NO","DK","FI","IE","PT","GR","TR","PL","CZ","HU","RO","BG","HR","SI","SK","LT","LV","EE","IS","MT","CY","LU"].includes(o.toUpperCase())||["united states","united kingdom","canada","australia","germany","france","italy","spain","japan","china","india","brazil","russia","mexico","netherlands","belgium","switzerland","austria","sweden","norway","denmark","finland","ireland","portugal","greece","turkey","poland","czech republic","hungary","romania","bulgaria","croatia","slovenia","slovakia","lithuania","latvia","estonia","iceland","malta","cyprus","luxembourg"].includes(s)?{query:a,type:"city_country",city:r,country:o}:n.length>0?{query:a,type:"city_country",city:r,state:o,country:n[0]}:{query:a,type:"city_country",city:r,country:o}}}let t=a.replace(/[^\w\s\-'.]/g,"").trim();return{query:a,type:"city_only",city:t||a}},p=e=>{let a=e.toLowerCase();return a.includes("clear")||a.includes("sun")?"sunny":a.includes("cloud")?"cloudy":a.includes("rain")||a.includes("drizzle")?"rainy":a.includes("snow")||a.includes("sleet")?"snowy":a.includes("mist")||a.includes("fog")?"cloudy":a.includes("thunder")?"rainy":"sunny"},T=async(e,a)=>{if("zip"===e.type){let t=e.country?"".concat(e.zipCode,",").concat(e.country):e.zipCode,o=await fetch("".concat(r,"/zip?zip=").concat(encodeURIComponent(t),"&appid=").concat(a));if(!o.ok)throw Error("ZIP code not found. Please check the ZIP code and try again.");let n=await o.json();return{lat:n.lat,lon:n.lon,displayName:"".concat(n.name,", ").concat(n.country)}}{let t=e.city||e.query;e.state&&(t+=",".concat(e.state)),e.country&&(t+=",".concat(e.country));let o=await fetch("".concat(r,"/direct?q=").concat(encodeURIComponent(t),"&limit=1&appid=").concat(a));if(!o.ok)throw Error("Geocoding API error: ".concat(o.status));let n=await o.json();if(!n||0===n.length)throw Error(k(e));let s=n[0],i=s.state?"".concat(s.name,", ").concat(s.state,", ").concat(s.country):"".concat(s.name,", ").concat(s.country);return{lat:s.lat,lon:s.lon,displayName:i}}},A=()=>{let e,a;let t=new Date("2024-01-11T11:57:00Z"),o=(new Date().getTime()-t.getTime())/864e5%29.530588853/29.530588853*360,n=Math.round((1-Math.cos(o*Math.PI/180))*50);return o<1||o>359?(e="New Moon",a="\uD83C\uDF11"):o<90?(e="Waxing Crescent",a="\uD83C\uDF12"):o<91?(e="First Quarter",a="\uD83C\uDF13"):o<180?(e="Waxing Gibbous",a="\uD83C\uDF14"):o<181?(e="Full Moon",a="\uD83C\uDF15"):o<270?(e="Waning Gibbous",a="\uD83C\uDF16"):o<271?(e="Last Quarter",a="\uD83C\uDF17"):(e="Waning Crescent",a="\uD83C\uDF18"),{phase:e,illumination:n,emoji:a,phaseAngle:o}},F=(e,a)=>{let t={};return e.list.forEach(e=>{var o,n,r;let s=new Date(1e3*e.dt).toLocaleDateString("en-US",{weekday:"long"}),i=new Date(1e3*e.dt).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0});t[s]?(t[s].high=Math.max(t[s].high,e.main.temp),t[s].low=Math.min(t[s].low,e.main.temp)):t[s]={high:e.main.temp,low:e.main.temp,condition:e.weather[0].main,description:e.weather[0].description,humidity:[],pressure:[],windSpeed:[],windDir:[],cloudCover:[],precipChance:[],hourlyForecast:[]},t[s].humidity.push(e.main.humidity),t[s].pressure.push(e.main.pressure),t[s].windSpeed.push((null===(o=e.wind)||void 0===o?void 0:o.speed)||0),(null===(n=e.wind)||void 0===n?void 0:n.deg)&&t[s].windDir.push(w(e.wind.deg)),t[s].cloudCover.push((null===(r=e.clouds)||void 0===r?void 0:r.all)||0);let l=0;l=void 0!==e.pop?Math.round(100*e.pop):e.weather[0].main.toLowerCase().includes("rain")?Math.min(e.main.humidity/100*100,85):0,t[s].precipChance.push(l),t[s].hourlyForecast.length<8&&t[s].hourlyForecast.push({time:i,temp:a?Math.round(e.main.temp):u(e.main.temp),condition:p(e.weather[0].main),precipChance:Math.round(l)})}),Object.entries(t).map(e=>{let[o,n]=e,r=Math.round(n.humidity.reduce((e,a)=>e+a,0)/n.humidity.length),s=Math.round(n.pressure.reduce((e,a)=>e+a,0)/n.pressure.length),i=Math.round(n.windSpeed.reduce((e,a)=>e+a,0)/n.windSpeed.length),l=Math.round(n.cloudCover.reduce((e,a)=>e+a,0)/n.cloudCover.length),c=Math.round(n.precipChance.reduce((e,a)=>e+a,0)/n.precipChance.length),d=n.windDir.length>0?n.windDir.sort((e,a)=>n.windDir.filter(a=>a===e).length-n.windDir.filter(e=>e===a).length).pop():void 0;return{day:o,date:new Date(Date.now()+864e5*Object.keys(t).indexOf(o)).toLocaleDateString("en-US",{month:"short",day:"numeric"}),highTemp:a?Math.round(n.high):u(n.high),lowTemp:a?Math.round(n.low):u(n.low),condition:p(n.condition),description:n.description,details:{humidity:r,windSpeed:i,windDirection:d,pressure:"".concat(s," hPa"),cloudCover:l,precipitationChance:c,visibility:void 0,uvIndex:void 0},hourlyForecast:n.hourlyForecast}})},w=e=>["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e/22.5)%16],x=(e,a,t)=>"inHg"===t||void 0===t&&S(a)?"".concat((.02953*e).toFixed(2)," in"):"".concat(Math.round(e)," hPa"),S=e=>["US","CA","PR","VI","GU","AS","MP"].includes(e),f=async(e,a,t)=>{console.log("=== UV INDEX REAL-TIME DEBUG ==="),console.log("Coordinates:",{lat:e,lon:a});try{var o,r;let s="".concat("https://api.openweathermap.org/data/3.0","/onecall?lat=").concat(e,"&lon=").concat(a,"&exclude=minutely,daily,alerts&appid=").concat(t);console.log("One Call API URL for UV Index:",s);let i=await fetch(s);if(console.log("One Call API Response Status:",i.status),!i.ok){console.error("One Call API failed for UV Index:",i.status,i.statusText),console.log("Falling back to basic UV endpoint (daily maximum)...");let o="".concat(n,"/uvi?lat=").concat(e,"&lon=").concat(a,"&appid=").concat(t),r=await fetch(o);if(r.ok){let e=await r.json(),a=e.value||e.uvi||0;console.log("Fallback daily maximum UV Index:",a);let t=new Date().getHours(),o=C(a,t);return console.log("Estimated current UV from daily max:",o),Math.round(o)}return 0}let l=await i.json();console.log("One Call API Response Data:",l);let c=(null===(o=l.current)||void 0===o?void 0:o.uvi)||0;if(console.log("Current UV Index from One Call API:",c),0===c){let e=(null===(r=l.current)||void 0===r?void 0:r.dt)||Date.now()/1e3,a=l.timezone_offset||0,t=new Date(1e3*(e+a)).getHours();return console.log("Local hour:",t),console.log("UV Index: 0 (likely nighttime)"),0}let u=Math.round(c);return console.log("Final UV Index (rounded):",u),u}catch(e){return console.error("UV Index API error:",e),0}},C=(e,a)=>{if(a<6||a>18)return 0;let t=Math.abs(a-13),o=Math.exp(-(t*t)/18),n=e*o;return console.log("UV estimation: hour=".concat(a,", dailyMax=").concat(e,", multiplier=").concat(o.toFixed(3),", estimated=").concat(n.toFixed(2))),Math.max(0,n)},v=async(e,a,t)=>{var o,r,s,l,c,u,d,m,h,g,y,p,T,A,F,w,x,S,f;console.log("=== POLLEN DATA DEBUG ==="),console.log("Coordinates:",{lat:e,lon:a}),console.log("OpenWeather API Key available:",!!t);let C=i();if(console.log("Google Pollen API Key available:",!!C),C)try{console.log("\uD83D\uDD0D Attempting to fetch real pollen data from Google Pollen API...");let t="https://pollen.googleapis.com/v1/forecast:lookup?key=".concat(C,"&location.latitude=").concat(e,"&location.longitude=").concat(a,"&days=1");console.log("Google Pollen API URL:",t);let n=await fetch(t);if(console.log("Google Pollen API Response Status:",n.status),console.log("Google Pollen API Response Headers:",Object.fromEntries(n.headers.entries())),n.ok){let e=await n.json();console.log("Google Pollen API Response Data:",e),console.log("Full Google Pollen API Response:",JSON.stringify(e,null,2));let a=null===(o=e.dailyInfo)||void 0===o?void 0:o[0];if(console.log("Daily Info:",a),a){console.log("Pollen Type Info:",a.pollenTypeInfo),console.log("Plant Info:",a.plantInfo);let e=e=>0===e?"No Data":e<=2?"Low":e<=5?"Moderate":e<=8?"High":"Very High",t=(a,t)=>{let o={};return null==a||a.forEach(a=>{let n=a.code||a.displayName||"";if(t.some(e=>n.includes(e))){var r,s;let t=(null===(r=a.indexInfo)||void 0===r?void 0:r.value)||0,i=(null===(s=a.indexInfo)||void 0===s?void 0:s.category)||e(t);o[a.displayName||n]=i}}),o},o=a.plantInfo||[],n=t(o,["MAPLE","ELM","COTTONWOOD","ALDER","BIRCH","ASH","PINE","OAK","JUNIPER"]),i=t(o,["GRAMINALES"]),y=t(o,["RAGWEED","WEED"]),p=null===(r=a.pollenTypeInfo)||void 0===r?void 0:r.find(e=>"TREE"===e.code),T=null===(s=a.pollenTypeInfo)||void 0===s?void 0:s.find(e=>"GRASS"===e.code),A=null===(l=a.pollenTypeInfo)||void 0===l?void 0:l.find(e=>"WEED"===e.code);0===Object.keys(n).length&&p&&(n.Tree=(null===(c=p.indexInfo)||void 0===c?void 0:c.category)||e((null===(u=p.indexInfo)||void 0===u?void 0:u.value)||0)),0===Object.keys(i).length&&T&&(i.Grass=(null===(d=T.indexInfo)||void 0===d?void 0:d.category)||e((null===(m=T.indexInfo)||void 0===m?void 0:m.value)||0)),0===Object.keys(y).length&&A&&(y.Weed=(null===(h=A.indexInfo)||void 0===h?void 0:h.category)||e((null===(g=A.indexInfo)||void 0===g?void 0:g.value)||0)),console.log("Tree breakdown:",n),console.log("Grass breakdown:",i),console.log("Weed breakdown:",y);let F={tree:n,grass:i,weed:y};return console.log("Final parsed pollen data from Google API:",F),F}console.warn("No daily pollen info found in Google API response"),console.log("Available keys in response:",Object.keys(e))}else{console.error("Google Pollen API failed:",n.status,n.statusText);let e=await n.text();console.error("Error response:",e)}}catch(e){console.error("Google Pollen API error:",e)}console.log("\uD83D\uDD04 Falling back to OpenWeather Air Pollution API for basic air quality data...");try{let o="".concat(n,"/air_pollution?lat=").concat(e,"&lon=").concat(a,"&appid=").concat(t);console.log("OpenWeather Air Pollution API URL:",o);let r=await fetch(o);if(console.log("OpenWeather Air Pollution API Response Status:",r.status),!r.ok)return console.warn("OpenWeather Air Pollution API failed:",r.status,r.statusText),{tree:{Tree:"No Data"},grass:{Grass:"No Data"},weed:{Weed:"No Data"}};let s=await r.json();console.log("OpenWeather Air Pollution API Response Data:",s);let i=(null===(T=s.list)||void 0===T?void 0:null===(p=T[0])||void 0===p?void 0:null===(y=p.main)||void 0===y?void 0:y.aqi)||1,l=(null===(w=s.list)||void 0===w?void 0:null===(F=w[0])||void 0===F?void 0:null===(A=F.components)||void 0===A?void 0:A.pm10)||0,c=(null===(f=s.list)||void 0===f?void 0:null===(S=f[0])||void 0===S?void 0:null===(x=S.components)||void 0===x?void 0:x.pm2_5)||0;console.log("Air quality fallback data:",{airQualityIndex:i,pm10:l,pm2_5:c});let u=e=>0===e?"No Data":e<=2?"Low":e<=5?"Moderate":e<=8?"High":"Very High",d={tree:{Tree:u(Math.min(Math.round(10*i),100))},grass:{Grass:u(Math.min(Math.round(8*i),100))},weed:{Weed:u(Math.min(Math.round(6*i),100))}};return console.log("Fallback pollen data (air quality based):",d),console.log("Note: Using air quality fallback. For real pollen data, ensure Google Pollen API key is properly configured."),d}catch(e){return console.warn("OpenWeather Air Pollution API error:",e),console.log("Returning default pollen values"),{tree:{Tree:"No Data"},grass:{Grass:"No Data"},weed:{Weed:"No Data"}}}},P=async(e,a,t)=>{var o,r,l,c,u,d,m,h;console.log("=== FETCHING AIR QUALITY DATA ==="),console.log("=== AIR QUALITY COORDINATE DEBUG ==="),console.log("City being searched:",t||"Unknown"),console.log("Coordinates passed to Air Quality API:",{latitude:e,longitude:a}),console.log("Timestamp:",new Date().toISOString()),console.log("Previous coordinates (if cached):",globalThis.lastAirQualityCoordinates),globalThis.lastAirQualityCoordinates={latitude:e,longitude:a},console.log("Fetching Air Quality for:",t||"Unknown","at coordinates:",e,a);let g=i();if(console.log("Google Air Quality API Key available:",!!g),g)try{let t="https://airquality.googleapis.com/v1/currentConditions:lookup?key=".concat(g),n=JSON.stringify({location:{latitude:e,longitude:a}});console.log("Google Air Quality API URL:",t),console.log("Google Air Quality API Payload:",n);let s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:n});if(console.log("Google Air Quality API Response Status:",s.status),console.log("Google Air Quality API Response Headers:",Object.fromEntries(s.headers.entries())),s.ok){let e=await s.json();console.log("Google Air Quality API Response Data:",e),console.log("Full Google Air Quality API Response:",JSON.stringify(e,null,2));let a=null==e?void 0:e.indexes;console.log("Google AQI Indexes:",a);let t=(null==a?void 0:null===(o=a[0])||void 0===o?void 0:o.aqi)||0,n=(null==a?void 0:null===(r=a[0])||void 0===r?void 0:r.category)||"No Data";console.log("Google AQI value extracted:",t),console.log("Google AQI category extracted:",n);let i=null==e?void 0:null===(l=e.indexes)||void 0===l?void 0:l[0];i&&console.log("Google AQI additional info:",{displayName:i.displayName,aqiDisplay:i.aqiDisplay,category:i.category,dominantPollutant:i.dominantPollutant});let c={aqi:t,category:n};return console.log("Final Google air quality object:",c),c}{console.error("Google Air Quality API failed:",s.status,s.statusText);let e=await s.text();console.error("Google API Error response:",e)}}catch(e){console.error("Google Air Quality API error:",e)}else console.warn("No Google Air Quality API key found.");console.log("\uD83D\uDD04 Falling back to OpenWeather Air Pollution API...");try{let t=s(),o="".concat(n,"/air_pollution?lat=").concat(e,"&lon=").concat(a,"&appid=").concat(t);console.log("OpenWeather Air Pollution API URL:",o);let r=await fetch(o);if(console.log("OpenWeather Air Pollution API Response Status:",r.status),r.ok){let e=await r.json();console.log("OpenWeather Air Pollution API Response Data:",e);let a=(null===(d=e.list)||void 0===d?void 0:null===(u=d[0])||void 0===u?void 0:null===(c=u.main)||void 0===c?void 0:c.aqi)||1,t=(null===(h=e.list)||void 0===h?void 0:null===(m=h[0])||void 0===m?void 0:m.components)||{};console.log("OpenWeather AQI (1-5 scale):",a),console.log("OpenWeather components:",t);let o=b(a,t),n=U(o);return console.log("Converted OpenWeather AQI to EPA scale:",o),console.log("AQI Category:",n),{aqi:o,category:n}}console.error("OpenWeather Air Pollution API failed:",r.status,r.statusText)}catch(e){console.error("OpenWeather Air Pollution API error:",e)}return console.warn("All AQI APIs failed. Returning default values."),{aqi:0,category:"No Data"}},b=(e,a)=>{let t={1:{min:0,max:50},2:{min:51,max:100},3:{min:101,max:150},4:{min:151,max:200},5:{min:201,max:300}},o=t[e]||t[1];if(a.pm2_5&&a.pm10){let e=I(a.pm2_5),t=N(a.pm10);return console.log("PM2.5 AQI calculation:",{pm25:a.pm2_5,aqi:e}),console.log("PM10 AQI calculation:",{pm10:a.pm10,aqi:t}),Math.max(e,t)}let n=Math.round((o.min+o.max)/2);return console.log("OpenWeather AQI ".concat(e," converted to EPA AQI: ").concat(n," (range: ").concat(o.min,"-").concat(o.max,")")),n},I=e=>{for(let a of[{low:0,high:12,aqiLow:0,aqiHigh:50},{low:12.1,high:35.4,aqiLow:51,aqiHigh:100},{low:35.5,high:55.4,aqiLow:101,aqiHigh:150},{low:55.5,high:150.4,aqiLow:151,aqiHigh:200},{low:150.5,high:250.4,aqiLow:201,aqiHigh:300},{low:250.5,high:350.4,aqiLow:301,aqiHigh:400},{low:350.5,high:500.4,aqiLow:401,aqiHigh:500}])if(e>=a.low&&e<=a.high)return Math.round((a.aqiHigh-a.aqiLow)/(a.high-a.low)*(e-a.low)+a.aqiLow);return 500},N=e=>{for(let a of[{low:0,high:54,aqiLow:0,aqiHigh:50},{low:55,high:154,aqiLow:51,aqiHigh:100},{low:155,high:254,aqiLow:101,aqiHigh:150},{low:255,high:354,aqiLow:151,aqiHigh:200},{low:355,high:424,aqiLow:201,aqiHigh:300},{low:425,high:504,aqiLow:301,aqiHigh:400},{low:505,high:604,aqiLow:401,aqiHigh:500}])if(e>=a.low&&e<=a.high)return Math.round((a.aqiHigh-a.aqiLow)/(a.high-a.low)*(e-a.low)+a.aqiLow);return 500},U=e=>e<=50?"Good":e<=100?"Moderate":e<=150?"Unhealthy for Sensitive Groups":e<=200?"Unhealthy":e<=300?"Very Unhealthy":"Hazardous",E=async(e,a)=>{console.log("Fetching weather data for:",e);try{let a=s(),t=y(e);console.log("Parsed location query:",t);let{lat:o,lon:r,displayName:i}=await T(t,a);console.log("Geocoded location:",{lat:o,lon:r,displayName:i});let u="".concat(n,"/weather?lat=").concat(o,"&lon=").concat(r,"&appid=").concat(a,"&units=imperial");console.log("Fetching current weather from:",u);let d=await fetch(u);if(!d.ok)throw Error("Current weather API call failed: ".concat(d.status));let g=await d.json();console.log("Current weather response:",g);let p="".concat(n,"/forecast?lat=").concat(o,"&lon=").concat(r,"&appid=").concat(a,"&units=imperial");console.log("Fetching forecast from:",p);let w=await fetch(p);if(!w.ok)throw Error("Forecast API call failed: ".concat(w.status));let S=await w.json();console.log("Forecast response:",S);let C=g.sys.country,b=m(C);console.log("Using Fahrenheit:",b);let I=h(g.main.temp,C);console.log("Formatted temperature:",I);let N=F(S,b);console.log("Processed forecast:",N);let U=A();console.log("Moon phase:",U),console.log("=== FETCHING UV INDEX ===");let E=await f(o,r,a);console.log("UV Index fetched:",E);let k=await v(o,r,a);console.log("Weather Data - Pollen:",k);let L=await P(o,r,i);console.log("Weather Data - Air Quality:",L);let M={location:i,country:C,temperature:I.value,unit:I.unit,condition:g.weather[0].main,description:g.weather[0].description,humidity:g.main.humidity,wind:{speed:g.wind.speed,direction:g.wind.deg?l(g.wind.deg):void 0,gust:g.wind.gust},pressure:x(g.main.pressure,C),sunrise:c(g.sys.sunrise,g.timezone),sunset:c(g.sys.sunset,g.timezone),forecast:N,moonPhase:U,uvIndex:E,aqi:L.aqi,aqiCategory:L.category,pollen:k};return console.log("Final weather data:",M),M}catch(e){throw console.error("Error fetching weather data:",e),e}},k=e=>{switch(e.type){case"zip":return"ZIP/Postal code not found. Please check the code and try again.";case"city_state":return'City/State combination not found. Try "City, State" format (e.g., "New York, NY").';case"city_country":return'City/Country combination not found. Try "City, Country" format (e.g., "London, UK").';case"city_only":return'City not found. Try including state/country (e.g., "Paris, France").';default:return"Location not found. Please check the spelling and try again."}},L=async e=>{let a=s(),[t,o]=e.split(",").map(Number);if(isNaN(t)||isNaN(o))throw Error("Invalid coordinates");try{let e="".concat(n,"/weather?lat=").concat(t,"&lon=").concat(o,"&appid=").concat(a,"&units=imperial");console.log("Fetching current weather from:",e);let r=await fetch(e);if(!r.ok)throw Error("Current weather API call failed: ".concat(r.status));let s=await r.json();console.log("Current weather response:",s);let i="".concat(n,"/forecast?lat=").concat(t,"&lon=").concat(o,"&appid=").concat(a,"&units=imperial");console.log("Fetching forecast from:",i);let u=await fetch(i);if(!u.ok)throw Error("Forecast API call failed: ".concat(u.status));let d=await u.json();console.log("Forecast response:",d);let g=s.sys.country,y=m(g);console.log("Using Fahrenheit:",y);let p=h(s.main.temp,g);console.log("Formatted temperature:",p);let T=F(d,y);console.log("Processed forecast:",T);let w=A();console.log("Moon phase:",w),console.log("=== FETCHING UV INDEX ===");let S=await f(t,o,a);console.log("UV Index fetched:",S),console.log("=== FETCHING POLLEN DATA ===");let C=await v(t,o,a);console.log("Weather Data - Pollen:",C);let b=await P(t,o,"".concat(s.name,", ").concat(s.sys.country));console.log("Weather Data - Air Quality:",b);let I={location:"".concat(s.name,", ").concat(s.sys.country),country:g,temperature:p.value,unit:p.unit,condition:s.weather[0].main,description:s.weather[0].description,humidity:s.main.humidity,wind:{speed:s.wind.speed,direction:s.wind.deg?l(s.wind.deg):void 0,gust:s.wind.gust},pressure:x(s.main.pressure,g),sunrise:c(s.sys.sunrise,s.timezone),sunset:c(s.sys.sunset,s.timezone),forecast:T,moonPhase:w,uvIndex:S,aqi:b.aqi,aqiCategory:b.category,pollen:C};return console.log("Final weather data:",I),I}catch(e){throw console.error("Error fetching weather data:",e),e}}}}]);